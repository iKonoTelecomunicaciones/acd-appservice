components:
  # Estructura de objetos
  schemas:
    Error:
      type: object
      properties:
        error:
          type: string

    Success:
      type: object
      properties:
        message:
          type: string
    QrOk:
      type: object
      properties:
        code:
          type: string
        timeout:
          type: integer

    LoginOk:
      type: object
      properties:
        jid:
          type: string
        phone:
          type: string
        success:
          type: boolean

    QrFail:
      type: object
      properties:
        success:
          type: boolean
        error:
          type: string
        errorcode:
          type: string

    LoginDataOk:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/LoginOk'
        status:
          type: integer
      example:
          data:
            jid: "573123456789.0:65@s.whatsapp.net"
            phone: "+573123456789"
            success: true
          status: 201

    QrDataOk:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/QrOk'
        status:
          type: integer
      example:
          data:
            code: "2@Y0SYKO62z8tZXp9KDf4w8D/4qLioopgFtT3Bc2aSdt6Jdmg4DZlM1..."
            timeout: 60
          status: 200

    QrDataFail:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/QrFail'
        status:
          type: integer
      example:
          data:
            success: false
            error: "QR code scan timed out. Please try again."
            errcode: "login timed out"
          status: 422

  # Respuestas de la API
  responses:
    UserCreated:
      description: User has been created.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Success'

    QrGenerated:
      description: QR has been generated.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/QrDataOk'

    LoginSuccessful:
      description: QR has been generated.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/LoginDataOk'

    QrNoGenerated:
      description: QR has not been generated.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/QrDataFail'

    OK:
      description: The request was successful..
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Success'

    BadRequest:
      description: Could not interpret the request due to invalid syntax.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'

    ErrorData:
      description: The request was well formed but could not be followed due to semantic errors.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'

    NotExist:
      description: User doesn't exist.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'

    TooManyRequests:
      description: You already have a pending request.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'


